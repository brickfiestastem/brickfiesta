{% regroup schedule_list by date as schedule_item %}
{% for object in schedule_item %}
<h4>{{ object.grouper }}</h4>
<table class="table table-striped table-sm">
    <thead class="thead-light">
    <tr>
        <td align="right" width="20%">Time</td>
        <td width="50%">Title</td>
        <td width="10%"></td>
        <td align="center" width="20%">Space</td>
    </tr>
    </thead>
    <tbody>
    {% for scheduled_activity in object.list %}
    <tr>
        <td align="right">
            {{ scheduled_activity.start_time }} - {{ scheduled_activity.end_time }}
        </td>
        <td><a href="{% url 'event:activity' scheduled_activity.activity.id %}">
            {{ scheduled_activity.activity.title }}</a>
        </td>
        <td>
            {% if scheduled_activity.attendee_count %}
            {% if scheduled_activity.attendee_count > scheduled_activity.activity.max_people %}
            <span class="badge badge-warning">Wait List</span>
            {% else %}
            <span class="badge badge-info">Space Available</span>
            {% endif %}
            {% endif %}
            {% if scheduled_activity.volunteer_count %}
            {% if scheduled_activity.volunteer_count < scheduled_activity.activity.number_volunteers %}
            {% if can_volunteer %}
            <a href="{% url 'afol:volunteercreate' scheduled_activity.id %}" class="badge badge-warning">Volunteers
                Needed</a>
            {% else %}
            <span class="badge badge-warning">Volunteers Needed</span>
            {% endif %}
            {% endif %}
            {% endif %}
        </td>
        <td align="center">{{ scheduled_activity.space.name }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endfor %}
